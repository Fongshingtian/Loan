!function(e){var a=function(){this.init()};a.prototype={LOAN_STATUS:{PRE_ACCEPT:"等待处理",APPLY_SUBMIT:"提交申请",APPLY_CHECK:"申请审核",LOANING:"正在放款",CONTRACT_SIGN:"合同签约",END:"申请拒绝",LOAN_ACC_PASS:"正常结束",SIGN_REFUSE:"面签拒绝",APP_CANCEL:"流程取消",APP_REFUSE:"审批拒绝",APP_ABOLISH:"申请废件",APPLAY_CHECK:"审批复议"},init:function(){this.ui={},this.ui.searchForm=e("#searchForm"),this.ui.custName=e('#searchForm input[name="custName"]').eq(0),this.ui.idCardNo=e('#searchForm input[name="idCardNo"]').eq(0),this.ui.mobile=e('#searchForm input[name="mobile"]').eq(0),this.initData(),this.regEvent(),this.searchFormInit()},initData:function(){new window.PhoneVerifyCode({elBtn:e("#search-send-code"),elPhone:e('#searchForm input[name="mobile"]').eq(0)})},regEvent:function(){},searchFormInit:function(){var a=this,r=e("#searchForm");this.searchFormValidator=r.validate({rules:{custName:"required",idCardNo:{required:!0,isIDCard:!0},mobile:{required:!0,isPhone:!0},captcha:"required"},messages:{custName:"请输入您的姓名",idCardNo:{required:"请输入身份证号",isIDCard:"身份证号码格式不正确"},mobile:{required:"请输入手机号码",isPhone:"请您输入正确手机号"},captcha:"请输入手机验证码"},errorClass:"has-error",errorPlacement:function(a,r){"captcha"==e(r).attr("name")?e(r).parent().parent().find(".xn-error").html(a):e(r).parent().find(".xn-error").html(a)},highlight:function(a,r){"captcha"==e(a).attr("name")?e(a).parent().parent().addClass(r):e(a).parent().addClass(r)},success:function(a,r){"captcha"==e(r).attr("name")?e(r).parent().parent().removeClass("has-error").addClass("has-success"):e(r).parent().removeClass("has-error").addClass("has-success")},submitHandler:function(){r.find(".has-error").removeClass("has-error"),e("#btn-search").addClass("disabled"),window.API.searchLoanApply(r.serialize()).then(function(r){console.log(r),"1"==r.code?(e("#btn-search").attr("disabled","disabled"),e("#result_search_wrap").html(r.entity?'您的借款进度为<span class="text-orange" style="padding-left:10px">'+a.LOAN_STATUS[r.entity.currActivity]+"</span>":'暂无相关借款记录！去了解<a class="text-orange" href="'+window.BASE_URL+'/product1">更多产品</a> 或 <a class="text-orange" href="'+window.BASE_URL+'/loanapply">立即申请</a>')):r.code<=0?(e("#result_search_wrap").html(r.msg),e("#btn-search").removeClass("disabled")):alert("系统异常！")},function(){alert("系统异常！")}).always(function(){e("#btn-search").removeClass("disabled")})}})}},e(function(){new a})}($);