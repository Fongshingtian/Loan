// define("user/member/js/task",["../../../module/memberNav/js/init","../../../plugIn/laydate/laydate.cmd","../../../module/page/js/init"],function(a,e,t){a("../../../module/memberNav/js/init"),a("../../../plugIn/laydate/laydate.cmd");var n=a("../../../module/page/js/init"),s=$("#path-name"),i=$("#my-task-tab li"),l=$(".my-task-tab-content"),o=$("#my-experience-table"),r=$("#start-time"),d=$("#end-time"),c="/user/member/scoreHistory/",m=!1,u=location.pathname.split("/");$("#head-login-btn");$(document).on("click","#head-login-btn",function(){var a=$(this).attr("href")+"?url=/user/member/index";return window.location.href=a,!1});var p=$("#url").attr("data-img"),h=function(){if(!($(".task-not-login").length>0)){var a="0",e="0";""!=r.val()&&(a=r.val()),""!=d.val()&&(e=d.val()),n.pages(c+a+"/"+e+"/",y,p,".experienceTbody",1,10,"list",100,"","")}},y=function(a,e){var t="",a=a.data,n=a.length;if(n)for(var s=0;s<n;s++){var i=a[s];t+="<tr><td>"+i.happenTimeStr+"</td><td>"+i.taskName+"</td><td>"+i.score+"</td></tr>"}else t+="<tr><td colspan='3'><div class='no-data'><i>没有数据</i></div></td></tr>",$(".pages").html("");o.find("tbody").html(t)};$("#srh_btn").click(function(){return r.val()>d.val()&&""!=d.val()?void alert("结束日期要大于开始日期"):void h()}),$(document).on("click","#my-task-tab li",function(){var a=$(this).index();i.removeClass("cur"),$(this).addClass("cur"),l.hide().eq(a).show(),1==a&&0==m&&(h(),m=!0),s.html($(this).text())}),$(document).ready(function(){$(".done").parent().addClass("li-done")}),"experience"==u[u.length-1]?$("#my-task-tab li").eq(1).click():$("#my-task-tab li").eq(0).click()}),define("module/memberNav/js/init",[],function(a,e,t){function n(){var a=$("#memberMenuCur");if(a.length){var e=a.val();s.find("li[data-type="+e+"]").addClass("cur")}}var s=$("#member-nav-list");!function(){n()}()}),define("plugIn/laydate/laydate.cmd",[],function(a,e,t){!function(a){function e(a){n.skinLink.href=n.getPath+r[4]+a+r[5]}var t={path:"",skin:"fax",format:"YYYY-MM-DD",min:"1900-01-01 00:00:00",max:"2099-12-31 23:59:59",isv:!1,init:!1,istime:!1},n={},s=document,i="createElement",l="getElementById",o="getElementsByTagName",r=["laydate_box","laydate_void","laydate_click","LayDateSkin","skins/","/laydate.css"];a.laydate=function(e){e=e||{};try{r.event=a.event?a.event:laydate.caller.arguments[0]}catch(t){}return n.run(e),laydate},laydate.v="1.1",n.getPath=function(){var a=document.scripts,e=a[a.length-1].src;return t.path?t.path:e.substring(0,e.lastIndexOf("/")+1)}(),n.use=function(a,e){var t=s[i]("link");t.type="text/css",t.rel="stylesheet",t.href=n.getPath+a+r[5],e&&(t.id=e),s[o]("head")[0].appendChild(t),t=null},n.trim=function(a){return a=a||"",a.replace(/^\s|\s$/g,"").replace(/\s+/g," ")},n.digit=function(a){return a<10?"0"+(0|a):a},n.stopmp=function(e){return e=e||a.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this},n.each=function(a,e){for(var t=0,n=a.length;t<n&&e(t,a[t])!==!1;t++);},n.hasClass=function(a,e){return a=a||{},new RegExp("\\b"+e+"\\b").test(a.className)},n.addClass=function(a,e){return a=a||{},n.hasClass(a,e)||(a.className+=" "+e),a.className=n.trim(a.className),this},n.removeClass=function(a,e){if(a=a||{},n.hasClass(a,e)){var t=new RegExp("\\b"+e+"\\b");a.className=a.className.replace(t,"")}return this},n.removeCssAttr=function(a,e){var t=a.style;t.removeProperty?t.removeProperty(e):t.removeAttribute(e)},n.shde=function(a,e){a.style.display=e?"none":"block"},n.query=function(a){if(a&&1===a.nodeType){if("input"!==a.tagName.toLowerCase())throw new Error("选择器elem错误");return a}var e,a=n.trim(a).split(" "),t=s[l](a[0].substr(1));if(t){if(a[1]){if(/^\./.test(a[1])){var i,r=a[1].substr(1),d=new RegExp("\\b"+r+"\\b");return e=[],i=s.getElementsByClassName?t.getElementsByClassName(r):t[o]("*"),n.each(i,function(a,t){d.test(t.className)&&e.push(t)}),e[0]?e:""}return e=t[o](a[1]),e[0]?t[o](a[1]):""}return t}},n.on=function(e,t,s){return e.attachEvent?e.attachEvent("on"+t,function(){s.call(e,a.even)}):e.addEventListener(t,s,!1),n},n.stopMosup=function(a,e){"mouseup"!==a&&n.on(e,"mouseup",function(a){n.stopmp(a)})},n.run=function(a){var e,s,i,l=n.query,o=r.event;try{i=o.target||o.srcElement||{}}catch(d){i={}}if(e=a.elem?l(a.elem):i,r.elemv=/textarea|input/.test(e.tagName.toLocaleLowerCase())?"value":"innerHTML",("init"in a?a.init:t.init)&&!e[r.elemv]&&(e[r.elemv]=laydate.now(null,a.format||t.format)),o&&i.tagName){if(!e||e===n.elem)return;n.stopMosup(o.type,e),n.stopmp(o),n.view(e,a),n.reshow()}else s=a.event||"click",n.each((0|e.length)>0?e:[e],function(e,t){n.stopMosup(s,t),n.on(t,s,function(e){n.stopmp(e),t!==n.elem&&(n.view(t,a),n.reshow())})})},n.scroll=function(a){return a=a?"scrollLeft":"scrollTop",s.body[a]|s.documentElement[a]},n.winarea=function(a){return document.documentElement[a?"clientWidth":"clientHeight"]},n.isleap=function(a){return a%4===0&&a%100!==0||a%400===0},n.checkVoid=function(a,e,t){var s=[];return a=0|a,e=0|e,t=0|t,a<n.mins[0]?s=["y"]:a>n.maxs[0]?s=["y",1]:a>=n.mins[0]&&a<=n.maxs[0]&&(a==n.mins[0]&&(e<n.mins[1]?s=["m"]:e==n.mins[1]&&t<n.mins[2]&&(s=["d"])),a==n.maxs[0]&&(e>n.maxs[1]?s=["m",1]:e==n.maxs[1]&&t>n.maxs[2]&&(s=["d",1]))),s},n.timeVoid=function(a,e){if(n.ymd[1]+1==n.mins[1]&&n.ymd[2]==n.mins[2]){if(0===e&&a<n.mins[3])return 1;if(1===e&&a<n.mins[4])return 1;if(2===e&&a<n.mins[5])return 1}else if(n.ymd[1]+1==n.maxs[1]&&n.ymd[2]==n.maxs[2]){if(0===e&&a>n.maxs[3])return 1;if(1===e&&a>n.maxs[4])return 1;if(2===e&&a>n.maxs[5])return 1}if(a>(e?59:23))return 1},n.check=function(){var a=n.options.format.replace(/YYYY|MM|DD|hh|mm|ss/g,"\\d+\\").replace(/\\$/g,""),e=new RegExp(a),t=n.elem[r.elemv],s=t.match(/\d+/g)||[],i=n.checkVoid(s[0],s[1],s[2]);if(""!==t.replace(/\s/g,"")){if(!e.test(t))return n.elem[r.elemv]="",n.msg("日期不符合格式，请重新选择。"),1;if(i[0])return n.elem[r.elemv]="",n.msg("日期不在有效期内，请重新选择。"),1;i.value=n.elem[r.elemv].match(e).join(),s=i.value.match(/\d+/g),s[1]<1?(s[1]=1,i.auto=1):s[1]>12?(s[1]=12,i.auto=1):s[1].length<2&&(i.auto=1),s[2]<1?(s[2]=1,i.auto=1):s[2]>n.months[(0|s[1])-1]?(s[2]=31,i.auto=1):s[2].length<2&&(i.auto=1),s.length>3&&(n.timeVoid(s[3],0)&&(i.auto=1),n.timeVoid(s[4],1)&&(i.auto=1),n.timeVoid(s[5],2)&&(i.auto=1)),i.auto?n.creation([s[0],0|s[1],0|s[2]],1):i.value!==n.elem[r.elemv]&&(n.elem[r.elemv]=i.value)}},n.months=[31,null,31,30,31,30,31,31,30,31,30,31],n.viewDate=function(a,e,t){var s=(n.query,{}),i=new Date;a<(0|n.mins[0])&&(a=0|n.mins[0]),a>(0|n.maxs[0])&&(a=0|n.maxs[0]),i.setFullYear(a,e,t),s.ymd=[i.getFullYear(),i.getMonth(),i.getDate()],n.months[1]=n.isleap(s.ymd[0])?29:28,i.setFullYear(s.ymd[0],s.ymd[1],1),s.FDay=i.getDay(),s.PDay=n.months[0===e?11:e-1]-s.FDay+1,s.NDay=1,n.each(r.tds,function(a,e){var t,i=s.ymd[0],l=s.ymd[1]+1;e.className="",a<s.FDay?(e.innerHTML=t=a+s.PDay,n.addClass(e,"laydate_nothis"),1===l&&(i-=1),l=1===l?12:l-1):a>=s.FDay&&a<s.FDay+n.months[s.ymd[1]]?(e.innerHTML=t=a-s.FDay+1,a-s.FDay+1===s.ymd[2]&&(n.addClass(e,r[2]),s.thisDay=e)):(e.innerHTML=t=s.NDay++,n.addClass(e,"laydate_nothis"),12===l&&(i+=1),l=12===l?1:l+1),n.checkVoid(i,l,t)[0]&&n.addClass(e,r[1]),n.options.festival&&n.festival(e,l+"."+t),e.setAttribute("y",i),e.setAttribute("m",l),e.setAttribute("d",t),i=l=t=null}),n.valid=!n.hasClass(s.thisDay,r[1]),n.ymd=s.ymd,r.year.value=n.ymd[0]+"年",r.month.value=n.digit(n.ymd[1]+1)+"月",n.each(r.mms,function(a,e){var t=n.checkVoid(n.ymd[0],(0|e.getAttribute("m"))+1);"y"===t[0]||"m"===t[0]?n.addClass(e,r[1]):n.removeClass(e,r[1]),n.removeClass(e,r[2]),t=null}),n.addClass(r.mms[n.ymd[1]],r[2]);var l=new Date;s.times=[n.inymd[n.elemIndexMap.hour]||l.getHours()||0,n.inymd[n.elemIndexMap.minute]||l.getMinutes()||0,n.inymd[n.elemIndexMap.second]||l.getSeconds()||0],n.each(new Array(3),function(a){n.hmsin[a].value=n.digit(n.timeVoid(s.times[a],a)?0|n.mins[a+3]:0|s.times[a])}),n[n.valid?"removeClass":"addClass"](r.ok,r[1])},n.festival=function(a,e){var t;switch(e){case"1.1":t="元旦";break;case"3.8":t="妇女";break;case"4.5":t="清明";break;case"5.1":t="劳动";break;case"6.1":t="儿童";break;case"9.10":t="教师";break;case"10.1":t="国庆"}t&&(a.innerHTML=t),t=null},n.viewYears=function(a){var e=n.query,t="";n.each(new Array(14),function(e){t+=7===e?"<li "+(parseInt(r.year.value)===a?'class="'+r[2]+'"':"")+' y="'+a+'">'+a+"年</li>":'<li y="'+(a-7+e)+'">'+(a-7+e)+"年</li>"}),e("#laydate_ys").innerHTML=t,n.each(e("#laydate_ys li"),function(a,e){"y"===n.checkVoid(e.getAttribute("y"))[0]?n.addClass(e,r[1]):n.on(e,"click",function(a){n.stopmp(a).reshow(),n.viewDate(0|this.getAttribute("y"),n.ymd[1],n.ymd[2])})})},n.getEachElementIndex=function(a){var e={},t=0;return a.replace(/YYYY|MM|DD|hh|mm|ss/g,function(a,n){return"YYYY"===a?e.year=t++:"MM"===a?e.month=t++:"DD"===a?e.day=t++:"hh"===a?e.hour=t++:"mm"===a?e.minute=t++:"ss"===a&&(e.second=t++),""}),e},n.initDate=function(a){var e=(n.query,new Date),t=n.elem[r.elemv].match(/\d+/g)||[],s=n.getEachElementIndex(a);n.elemIndexMap=s,t.length<3&&(t=n.options.start.match(/\d+/g)||[],t.length<3&&(t=[e.getFullYear(),e.getMonth()+1,e.getDate()])),n.inymd=t,n.viewDate(t[s.year],t[s.month]-1,t[s.day])},n.iswrite=function(){var a=n.query,e={time:a("#laydate_hms")};n.shde(e.time,!("istime"in n.options?n.options.istime:t.istime)),n.shde(r.oclear,!("isclear"in n.options?n.options.isclear:1)),n.shde(r.otoday,!("istoday"in n.options?n.options.istoday:1)),n.shde(r.ok,!("issure"in n.options?n.options.issure:1))},n.orien=function(a,e){var t,s=n.elem.getBoundingClientRect();a.style.left=s.left+(e?0:n.scroll(1))+"px",t=s.bottom+a.offsetHeight/1.5<=n.winarea()?s.bottom-1:s.top>a.offsetHeight/1.5?s.top-a.offsetHeight+1:n.winarea()-a.offsetHeight,a.style.top=Math.max(t+(e?0:n.scroll()),1)+"px"},n.follow=function(a){n.options.fixed?(a.style.position="fixed",n.orien(a,1)):(a.style.position="absolute",n.orien(a))},n.viewtb=function(){var a,e=[],t=["日","一","二","三","四","五","六"],l={},r=s[i]("table"),d=s[i]("thead");return d.appendChild(s[i]("tr")),l.creath=function(a){var e=s[i]("th");e.innerHTML=t[a],d[o]("tr")[0].appendChild(e),e=null},n.each(new Array(6),function(t){e.push([]),a=r.insertRow(0),n.each(new Array(7),function(n){e[t][n]=0,0===t&&l.creath(n),a.insertCell(n)})}),r.insertBefore(d,r.children[0]),r.id=r.className="laydate_table",a=e=null,r.outerHTML.toLowerCase()}(),n.view=function(a,e){var l,o=n.query,d={};e=e||a,n.elem=a,n.options=e,n.options.format||(n.options.format=t.format),n.options.start=n.options.start||"",n.mm=d.mm=[n.options.min||t.min,n.options.max||t.max],n.mins=d.mm[0].match(/\d+/g),n.maxs=d.mm[1].match(/\d+/g),n.box?n.shde(n.box):(l=s[i]("div"),l.id=r[0],l.className=r[0],l.style.cssText="position: absolute;",l.setAttribute("name","laydate-v"+laydate.v),l.innerHTML=d.html='<div class="laydate_top"><div class="laydate_ym laydate_y" id="laydate_YY"><a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a><input id="laydate_y" readonly><label></label><a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a><div class="laydate_yms"><a class="laydate_tab laydate_chtop"><cite></cite></a><ul id="laydate_ys"></ul><a class="laydate_tab laydate_chdown"><cite></cite></a></div></div><div class="laydate_ym laydate_m" id="laydate_MM"><a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a><input id="laydate_m" readonly><label></label><a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a><div class="laydate_yms" id="laydate_ms">'+function(){var a="";return n.each(new Array(12),function(e){a+='<span m="'+e+'">'+n.digit(e+1)+"月</span>"}),a}()+"</div></div></div>"+n.viewtb+'<div class="laydate_bottom"><ul id="laydate_hms"><li class="laydate_sj">时间</li><li><input readonly>:</li><li><input readonly>:</li><li><input readonly></li></ul><div class="laydate_time" id="laydate_time"></div><div class="laydate_btn"><a id="laydate_clear">清空</a><a id="laydate_today">今天</a><a id="laydate_ok">确认</a></div>'+(t.isv?'<a href="http://sentsin.com/layui/laydate/" class="laydate_v" target="_blank">laydate-v'+laydate.v+"</a>":"")+"</div>",s.body.appendChild(l),n.box=o("#"+r[0]),n.events(),l=null),n.follow(n.box),e.zIndex?n.box.style.zIndex=e.zIndex:n.removeCssAttr(n.box,"z-index"),n.stopMosup("click",n.box),n.initDate(e.format),n.iswrite(),n.check()},n.reshow=function(){return n.each(n.query("#"+r[0]+" .laydate_show"),function(a,e){n.removeClass(e,"laydate_show")}),this},n.close=function(){n.reshow(),n.shde(n.query("#"+r[0]),1),n.elem=null},n.parse=function(a,e,s){return a=a.concat(e),s=s||(n.options?n.options.format:t.format),s.replace(/YYYY|MM|DD|hh|mm|ss/g,function(e,t){var s=-1;return"YYYY"===e?s=0:"MM"===e?s=1:"DD"===e?s=2:"hh"===e?s=3:"mm"===e?s=4:"ss"===e&&(s=5),n.digit(a[s])})},n.creation=function(a,e){var t=(n.query,n.hmsin),s=n.parse(a,[t[0].value,t[1].value,t[2].value]);n.elem[r.elemv]=s,e||(n.close(),"function"==typeof n.options.choose&&n.options.choose(s))},n.events=function(){var e=n.query,t={box:"#"+r[0]};n.addClass(s.body,"laydate_body"),r.tds=e("#laydate_table td"),r.mms=e("#laydate_ms span"),r.year=e("#laydate_y"),r.month=e("#laydate_m"),n.each(e(t.box+" .laydate_ym"),function(a,e){n.on(e,"click",function(e){n.stopmp(e).reshow(),n.addClass(this[o]("div")[0],"laydate_show"),a||(t.YY=parseInt(r.year.value),n.viewYears(t.YY))})}),n.on(e(t.box),"click",function(){n.reshow()}),t.tabYear=function(a){0===a?n.ymd[0]--:1===a?n.ymd[0]++:2===a?t.YY-=14:t.YY+=14,a<2?(n.viewDate(n.ymd[0],n.ymd[1],n.ymd[2]),n.reshow()):n.viewYears(t.YY)},n.each(e("#laydate_YY .laydate_tab"),function(a,e){n.on(e,"click",function(e){n.stopmp(e),t.tabYear(a)})}),t.tabMonth=function(a){a?(n.ymd[1]++,12===n.ymd[1]&&(n.ymd[0]++,n.ymd[1]=0)):(n.ymd[1]--,n.ymd[1]===-1&&(n.ymd[0]--,n.ymd[1]=11)),n.viewDate(n.ymd[0],n.ymd[1],n.ymd[2])},n.each(e("#laydate_MM .laydate_tab"),function(a,e){n.on(e,"click",function(e){n.stopmp(e).reshow(),t.tabMonth(a)})}),n.each(e("#laydate_ms span"),function(a,e){n.on(e,"click",function(a){n.stopmp(a).reshow(),n.hasClass(this,r[1])||n.viewDate(n.ymd[0],0|this.getAttribute("m"),n.ymd[2])})}),n.each(e("#laydate_table td"),function(a,e){n.on(e,"click",function(a){n.hasClass(this,r[1])||(n.stopmp(a),n.creation([0|this.getAttribute("y"),0|this.getAttribute("m"),0|this.getAttribute("d")]))})}),r.oclear=e("#laydate_clear"),n.on(r.oclear,"click",function(){n.elem[r.elemv]="",n.close()}),r.otoday=e("#laydate_today"),n.on(r.otoday,"click",function(){var a=new Date,e=n.hmsin,t=new Date;e[0].value=t.getHours(),e[1].value=t.getMinutes(),e[2].value=t.getSeconds(),n.creation([a.getFullYear(),a.getMonth()+1,a.getDate()])}),r.ok=e("#laydate_ok"),n.on(r.ok,"click",function(){n.valid&&n.creation([n.ymd[0],n.ymd[1]+1,n.ymd[2]])}),t.times=e("#laydate_time"),n.hmsin=t.hmsin=e("#laydate_hms input"),t.hmss=["小时","分钟","秒数"],t.hmsarr=[],n.msg=function(a,s){var i='<div class="laydte_hsmtex">'+(s||"提示")+"<span>×</span></div>";"string"==typeof a?(i+="<p>"+a+"</p>",n.shde(e("#"+r[0])),n.removeClass(t.times,"laydate_time1").addClass(t.times,"laydate_msg")):(t.hmsarr[a]?i=t.hmsarr[a]:(i+='<div id="laydate_hmsno" class="laydate_hmsno">',n.each(new Array(0===a?24:60),function(a){i+="<span>"+a+"</span>"}),i+="</div>",t.hmsarr[a]=i),n.removeClass(t.times,"laydate_msg"),n[0===a?"removeClass":"addClass"](t.times,"laydate_time1")),n.addClass(t.times,"laydate_show"),t.times.innerHTML=i},t.hmson=function(a,t){var s=e("#laydate_hmsno span"),i=n.valid?null:1;n.each(s,function(e,s){i?n.addClass(s,r[1]):n.timeVoid(e,t)?n.addClass(s,r[1]):n.on(s,"click",function(e){n.hasClass(this,r[1])||(a.value=n.digit(0|this.innerHTML))})}),n.addClass(s[0|a.value],"laydate_click")},n.each(t.hmsin,function(a,e){n.on(e,"click",function(e){n.stopmp(e).reshow(),n.msg(a,t.hmss[a]),t.hmson(this,a)})}),n.on(s,"mouseup",function(){var a=e("#"+r[0]);a&&"none"!==a.style.display&&(n.check()||n.close())}).on(s,"keydown",function(e){e=e||a.event;var t=e.keyCode;13===t&&n.elem&&n.creation([n.ymd[0],n.ymd[1]+1,n.ymd[2]])})},n.init=function(){n.skinLink=n.query("#"+r[3])}(),laydate.reset=function(){n.box&&n.elem&&n.follow(n.box)},laydate.now=function(a,e){var t=new Date(0|a?function(a){return a<864e5?+new Date+864e5*a:a}(parseInt(a)):+new Date);return n.parse([t.getFullYear(),t.getMonth()+1,t.getDate()],[t.getHours(),t.getMinutes(),t.getSeconds()],e)},laydate.skin=e;var d=null;window.onresize=function(){d&&clearTimeout(d),d=setTimeout(function(){laydate.reset()},150)}}(window)}),define("module/page/js/init",[],function(a,e,t){var n=function(a,e,t,n,s,i){s=s||10;var l=t.totalRow/s;i=i||30,$("#pageCal").val(t.totalRow);var o=parseInt(l)>=i?i:l.toString().indexOf(".")>-1?parseInt(l)+1:parseInt(l),r="list"==n?'第<i class="pg">'+(a+1)+'</i>页/共<i class="cal">'+o+'</i>页<a data-page="fast" href="javascript:void(0);">首页</a><a data-page="up" href="javascript:void(0);">上一页</a>':'<span class="l">第<i class="pg">'+(a+1)+'</i>页/共<i class="cal">'+o+'</i>页<a data-page="fast" href="javascript:void(0);">首页</a></span><a class="up" data-page="up" href="javascript:void(0);">上一页</a>',d="list"==n?'<a data-page="down" href="javascript:void(0)">下一页</a><a data-page="last" href="javascript:void(0)">末页</a>':'<a class="down" data-page="down" href="javascript:void(0)">下一页</a><span class="l"><a data-page="last" href="javascript:void(0)">末页</a></span>';switch(e){case"fast":if(o>5)r+='<a data-page="un" class="cur" href="javascript:void(0);">1</a><a data-page="un" href="javascript:void(0);">2</a><a data-page="un" href="javascript:void(0);">3</a><a data-page="un" href="javascript:void(0);">4</a><a data-page="un" href="javascript:void(0);">5</a>';else for(var c=0;c<o;c++)r+='<a data-page="un" href="javascript:void(0);">'+(c+1)+"</a>";$("div.page").html(r+d),$(".page a[data-page='un']:first").addClass("cur");break;case"up":if(a<4&&o>=5){for(var c=1;c<6;c++)r+='<a data-page="un" href="javascript:void(0);">'+c+"</a>";$("div.page").html(r+d),$(".page a[data-page='un']:contains('"+(a+1)+"')").addClass("cur")}else if(a<4&&o<5){for(var m=parseInt(o)+1,c=1;c<m;c++)r+='<a data-page="un" href="javascript:void(0);">'+c+"</a>";$("div.page").html(r+d),$(".page a[data-page='un']:contains('"+(a+1)+"')").addClass("cur")}else{for(var c=a-2;c<a+3;c++)r+='<a data-page="un" href="javascript:void(0);">'+c+"</a>";$("div.page").html(r+d),$(".page a[data-page='un']:last").prev().addClass("cur")}break;case"down":var m=parseInt(o)+1;if(o-5<a&&o>0){for(var c=o-4;c<m;c++)r+='<a data-page="un" href="javascript:void(0);">'+c+"</a>";$("div.page").html(r+d),$(".page a[data-page='un']:contains('"+(a+1)+"')").addClass("cur")}else{for(var c=a;c<a+5;c++)r+='<a data-page="un" href="javascript:void(0);">'+c+"</a>";$("div.page").html(r+d),$("div.page a[data-page='un']:eq(1)").addClass("cur")}break;case"last":if(o>a)for(var u=o-5>0?o-5:0,c=u;c<o;c++)r+='<a data-page="un" href="javascript:void(0);">'+(c+1)+"</a>";$("div.page").html(r+d),$("div.page a[data-page='un']:last").addClass("cur")}$(".page i.pg").html(a+1)};e.pages=function(a,e,t,s,i,l,o,r,d,c,m){var m=m?m:"get",i=i||1,l=l||10,d=d?"?"+d:"",c=c||1,u='<img src="'+window.global.staticPath+'/images/loading-44bbc291bc.gif" />',p=function(t,i){$(s).html('<span class="loding-img">'+u+"</span>"),t=t-1||0,$.ajaxSetup({cache:!1}),$[m](a+t+"/"+l+d,function(a,s,d){var a="object"==typeof a?a=a||{}:JSON.parse(a);0!=a.totalRow&&null!=a.totalRow&&n(t,i,a,o,l,r),e(a,c,d)},"json")},h=function(a){var e=$(a),t=$("a[data-page='un']:first"),n=$("a[data-page='un']:last"),s="un"==e.attr("data-page")?parseInt(e.html()):parseInt($(".page a[data-page='un'].cur").html()),i=parseInt($(".page .cal").html());switch(e.attr("data-page")){case"fast":1!=s&&p(1,"fast");break;case"up":if(t.next().hasClass("cur")&&1!=s)p(s-1,"up");else{if(t.hasClass("cur")&&1==s)return;$(".page .cur").prev().addClass("cur").siblings().removeClass("cur"),p(s-1)}break;case"un":$(".page a[data-page='un'].cur").html()!=e.html()&&(t.html()==e.html()&&1!=e.html()?p(parseInt(e.html()),"up"):n.html()==e.html()&&e.html()!=i?p(parseInt(e.html()),"down"):(e.addClass("cur").siblings().removeClass("cur"),p(parseInt(e.html()))));break;case"down":if(n.prev().hasClass("cur")&&s!=i-1)p(s+1,"down");else{if(n.hasClass("cur")&&s==i)return;$(".page .cur").next().addClass("cur").siblings().removeClass("cur"),p(s+1)}break;case"last":i!=s&&p(i,"last")}},y=function(){$("div.page").delegate("a","click",function(a){return a.preventDefault(),h(this),!1})};return y(),p(i,"fast"),this}});