// define("user/member/js/rights",["../../../plugIn/poshytip-1.2/src/jquery.poshytip","../../../module/memberNav/js/init"],function(t,i,s){function e(){$(document).on("click","#head-login-btn",function(){var t=$(this).attr("href")+"?url=/user/member/index";return window.location.href=t,!1}),$("#my-rights").on("click","li.enable .get-bouns",function(){var t=$(this),i=t.parent();t.hasClass("disabled")||(t.addClass("disabled").html("领取中"),$.ajax({type:"get",url:"/user/member/benefit/obtain/redbag",success:function(s){1==s.status?(t.remove(),i.append('<a href="/bonus/index?tab=0" class="toUse">去使用</a>')):(t.removeClass("disabled").html("领取"),$.dialog.error(s.errorDetails))},error:function(t){$.dialog.error("领取失败，请重试！")}}))}).on("click","li.enable .get-interestVoucher",function(){var t=$(this),i=t.parent();t.hasClass("disabled")||(t.addClass("disabled").html("领取中"),$.ajax({type:"get",url:"/user/member/benefit/obtain/interest",success:function(s){1==s.status?(t.remove(),i.append('<a href="/bonus/index?tab=2" class="toUse">去使用</a>')):(t.removeClass("disabled").html("领取"),$.dialog.error(s.errorDetails))},error:function(t){$.dialog.error("领取失败，请重试！")}}))}).on("click","li.enable .get-birthdayGift",function(){var t=$(this),i=t.parent();t.hasClass("disabled")||(t.addClass("disabled").html("领取中"),$.ajax({type:"get",url:"/user/member/benefit/obtain/birthday",success:function(s){1==s.status?(t.remove(),i.append('<a href="/bonus/index?tab=2" class="toUse">去使用</a>')):(t.removeClass("disabled").html("领取"),$.dialog.error(s.errorDetails))},error:function(t){$.dialog.error("领取失败，请重试！")}}))}),$(".icon-points-mark").poshytip({alignTo:"target",alignX:"inner-left",alignY:"top",offsetX:-16,offsetY:8})}function o(){var t=l.getMyRights();t.clone().appendTo($("#my-rights"));var i=$("#my-rights .enable").length;$("#my-rights .enable:last").addClass("last"),3==i?$("#my-rights").addClass("enable3"):2==i?$("#my-rights").addClass("enable2"):1==i&&$("#my-rights").addClass("enable1")}t("../../../plugIn/poshytip-1.2/src/jquery.poshytip"),t("../../../module/memberNav/js/init");var a=($("#head-login-btn"),$("#level").val()),r=$(".desc-content"),n=$("#desc-nav li"),h={bindEvent:function(){$(document).on("click","#desc-nav li",function(){var t=$(this).index();n.removeClass("cur"),$(this).addClass("cur"),r.hide().eq(t).show()})},init:function(){this.bindEvent()}};if(h.init(),!(!$(".rights-info").length>0)){var p=$("#rights-templete li"),l={changeLevel:function(t){switch(t){case"ordinary_member":return"1";case"silver_member":return"2";case"gold_member":return"3";case"platinum_member":return"4";case"niello_member":return"5";case"diamond_member":return"6";default:return"1"}},getRightsContent:function(t){var i=[];switch(t){case"1":i=[0,1,3];break;case"2":i=[0,1,2,3];break;case"3":i=[0,1,2,3];break;case"4":i=[0,1,2,3];break;case"5":i=[0,1,2,3,4,7];break;case"6":i=[0,1,2,3,4,5,6,7]}var s=p.clone();for(var e in i)s.eq(i[e]).addClass("enable");var o=s.has(".basic-right");return o.each(function(){$(this).find(".basic-right").eq(t-1).css({display:"block"})}),s},getMyRights:function(){return this.getRightsContent(l.changeLevel(a))}};$(document).ready(function(){o(),e()})}}),define("plugIn/poshytip-1.2/src/jquery.poshytip",[],function(t,i,s){!function(t){function i(){t.each(s,function(){this.refresh(!0)})}var s=[],e=/^url\(["']?([^"'\)]*)["']?\);?$/i,o=/\.png$/i,a=!!window.createPopup&&"undefined"==document.documentElement.currentStyle.minWidth;t(window).resize(i),t.Poshytip=function(i,s){this.$elm=t(i),this.opts=t.extend({},t.fn.poshytip.defaults,s),this.$tip=t(['<div class="',this.opts.className,'">','<div class="tip-inner tip-bg-image"></div>','<div class="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left"></div>',"</div>"].join("")).appendTo(document.body),this.$arrow=this.$tip.find("div.tip-arrow"),this.$inner=this.$tip.find("div.tip-inner"),this.disabled=!1,this.content=null,this.init()},t.Poshytip.prototype={init:function(){s.push(this);var i=this.$elm.attr("title");if(this.$elm.data("title.poshytip",void 0!==i?i:null).data("poshytip",this),"none"!=this.opts.showOn)switch(this.$elm.bind({"mouseenter.poshytip":t.proxy(this.mouseenter,this),"mouseleave.poshytip":t.proxy(this.mouseleave,this)}),this.opts.showOn){case"hover":"cursor"==this.opts.alignTo&&this.$elm.bind("mousemove.poshytip",t.proxy(this.mousemove,this)),this.opts.allowTipHover&&this.$tip.hover(t.proxy(this.clearTimeouts,this),t.proxy(this.mouseleave,this));break;case"focus":this.$elm.bind({"focus.poshytip":t.proxy(this.showDelayed,this),"blur.poshytip":t.proxy(this.hideDelayed,this)})}},mouseenter:function(t){return!!this.disabled||(this.$elm.attr("title",""),"focus"==this.opts.showOn||void this.showDelayed())},mouseleave:function(t){if(this.disabled||this.asyncAnimating&&(this.$tip[0]===t.relatedTarget||jQuery.contains(this.$tip[0],t.relatedTarget)))return!0;if(!this.$tip.data("active")){var i=this.$elm.data("title.poshytip");null!==i&&this.$elm.attr("title",i)}return"focus"==this.opts.showOn||void this.hideDelayed()},mousemove:function(t){return!!this.disabled||(this.eventX=t.pageX,this.eventY=t.pageY,void(this.opts.followCursor&&this.$tip.data("active")&&(this.calcPos(),this.$tip.css({left:this.pos.l,top:this.pos.t}),this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow))))},show:function(){this.disabled||this.$tip.data("active")||(this.reset(),this.update(),this.content&&(this.display(),this.opts.timeOnScreen&&this.hideDelayed(this.opts.timeOnScreen)))},showDelayed:function(i){this.clearTimeouts(),this.showTimeout=setTimeout(t.proxy(this.show,this),"number"==typeof i?i:this.opts.showTimeout)},hide:function(){!this.disabled&&this.$tip.data("active")&&this.display(!0)},hideDelayed:function(i){this.clearTimeouts(),this.hideTimeout=setTimeout(t.proxy(this.hide,this),"number"==typeof i?i:this.opts.hideTimeout)},reset:function(){this.$tip.queue([]).detach().css("visibility","hidden").data("active",!1),this.$inner.find("*").poshytip("hide"),this.opts.fade&&this.$tip.css("opacity",this.opacity),this.$arrow[0].className="tip-arrow tip-arrow-top tip-arrow-right tip-arrow-bottom tip-arrow-left",this.asyncAnimating=!1},update:function(t,i){if(!this.disabled){var s=void 0!==t;if(s){if(i||(this.opts.content=t),!this.$tip.data("active"))return}else t=this.opts.content;var e=this,o="function"==typeof t?t.call(this.$elm[0],function(t){e.update(t)}):"[title]"==t?this.$elm.data("title.poshytip"):t;this.content!==o&&(this.$inner.empty().append(o),this.content=o),this.refresh(s)}},refresh:function(i){if(!this.disabled){if(i){if(!this.$tip.data("active"))return;var s={left:this.$tip.css("left"),top:this.$tip.css("top")}}this.$tip.css({left:0,top:0}).appendTo(document.body),void 0===this.opacity&&(this.opacity=this.$tip.css("opacity"));var r=this.$tip.css("background-image").match(e),n=this.$arrow.css("background-image").match(e);if(r){var h=o.test(r[1]);a&&h?(this.$tip.css("background-image","none"),this.$inner.css({margin:0,border:0,padding:0}),r=h=!1):this.$tip.prepend('<table class="tip-table" border="0" cellpadding="0" cellspacing="0"><tr><td class="tip-top tip-bg-image" colspan="2"><span></span></td><td class="tip-right tip-bg-image" rowspan="2"><span></span></td></tr><tr><td class="tip-left tip-bg-image" rowspan="2"><span></span></td><td></td></tr><tr><td class="tip-bottom tip-bg-image" colspan="2"><span></span></td></tr></table>').css({border:0,padding:0,"background-image":"none","background-color":"transparent"}).find(".tip-bg-image").css("background-image",'url("'+r[1]+'")').end().find("td").eq(3).append(this.$inner),h&&!t.support.opacity&&(this.opts.fade=!1)}n&&!t.support.opacity&&(a&&o.test(n[1])&&(n=!1,this.$arrow.css("background-image","none")),this.opts.fade=!1);var p=this.$tip.find("> table.tip-table");if(a){this.$tip[0].style.width="",p.width("auto").find("td").eq(3).width("auto");var l=this.$tip.width(),d=parseInt(this.$tip.css("min-width")),c=parseInt(this.$tip.css("max-width"));!isNaN(d)&&l<d?l=d:!isNaN(c)&&l>c&&(l=c),this.$tip.add(p).width(l).eq(0).find("td").eq(3).width("100%")}else p[0]&&p.width("auto").find("td").eq(3).width("auto").end().end().width(document.defaultView&&document.defaultView.getComputedStyle&&parseFloat(document.defaultView.getComputedStyle(this.$tip[0],null).width)||this.$tip.width()).find("td").eq(3).width("100%");if(this.tipOuterW=this.$tip.outerWidth(),this.tipOuterH=this.$tip.outerHeight(),this.calcPos(),n&&this.pos.arrow&&(this.$arrow[0].className="tip-arrow tip-arrow-"+this.pos.arrow,this.$arrow.css("visibility","inherit")),i&&this.opts.refreshAniDuration){this.asyncAnimating=!0;var u=this;this.$tip.css(s).animate({left:this.pos.l,top:this.pos.t},this.opts.refreshAniDuration,function(){u.asyncAnimating=!1})}else this.$tip.css({left:this.pos.l,top:this.pos.t})}},display:function(i){var s=this.$tip.data("active");if(!(s&&!i||!s&&i)){if(this.$tip.stop(),(this.opts.slide&&this.pos.arrow||this.opts.fade)&&(i&&this.opts.hideAniDuration||!i&&this.opts.showAniDuration)){var e={},o={};if(this.opts.slide&&this.pos.arrow){var a,r;"bottom"==this.pos.arrow||"top"==this.pos.arrow?(a="top",r="bottom"):(a="left",r="right");var n=parseInt(this.$tip.css(a));e[a]=n+(i?0:this.pos.arrow==r?-this.opts.slideOffset:this.opts.slideOffset),o[a]=n+(i?this.pos.arrow==r?this.opts.slideOffset:-this.opts.slideOffset:0)+"px"}this.opts.fade&&(e.opacity=i?this.$tip.css("opacity"):0,o.opacity=i?0:this.opacity),this.$tip.css(e).animate(o,this.opts[i?"hideAniDuration":"showAniDuration"])}if(i?this.$tip.queue(t.proxy(this.reset,this)):this.$tip.css("visibility","inherit"),s){var h=this.$elm.data("title.poshytip");null!==h&&this.$elm.attr("title",h)}this.$tip.data("active",!s)}},disable:function(){this.reset(),this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.reset(),this.$tip.remove(),delete this.$tip,this.content=null,this.$elm.unbind(".poshytip").removeData("title.poshytip").removeData("poshytip"),s.splice(t.inArray(this,s),1)},clearTimeouts:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},calcPos:function(){var i,s,e,o,a,r,n={l:0,t:0,arrow:""},h=t(window),p={l:h.scrollLeft(),t:h.scrollTop(),w:h.width(),h:h.height()};if("cursor"==this.opts.alignTo)i=s=e=this.eventX,o=a=r=this.eventY;else{var l=this.$elm.offset(),d={l:l.left,t:l.top,w:this.$elm.outerWidth(),h:this.$elm.outerHeight()};i=d.l+("inner-right"!=this.opts.alignX?0:d.w),s=i+Math.floor(d.w/2),e=i+("inner-left"!=this.opts.alignX?d.w:0),o=d.t+("inner-bottom"!=this.opts.alignY?0:d.h),a=o+Math.floor(d.h/2),r=o+("inner-top"!=this.opts.alignY?d.h:0)}switch(this.opts.alignX){case"right":case"inner-left":n.l=e+this.opts.offsetX,this.opts.keepInViewport&&n.l+this.tipOuterW>p.l+p.w&&(n.l=p.l+p.w-this.tipOuterW),"right"!=this.opts.alignX&&"center"!=this.opts.alignY||(n.arrow="left");break;case"center":n.l=s-Math.floor(this.tipOuterW/2),this.opts.keepInViewport&&(n.l+this.tipOuterW>p.l+p.w?n.l=p.l+p.w-this.tipOuterW:n.l<p.l&&(n.l=p.l));break;default:n.l=i-this.tipOuterW-this.opts.offsetX,this.opts.keepInViewport&&n.l<p.l&&(n.l=p.l),"left"!=this.opts.alignX&&"center"!=this.opts.alignY||(n.arrow="right")}switch(this.opts.alignY){case"bottom":case"inner-top":n.t=r+this.opts.offsetY,n.arrow&&"cursor"!=this.opts.alignTo||(n.arrow="top"),this.opts.keepInViewport&&n.t+this.tipOuterH>p.t+p.h&&(n.t=o-this.tipOuterH-this.opts.offsetY,"top"==n.arrow&&(n.arrow="bottom"));break;case"center":n.t=a-Math.floor(this.tipOuterH/2),this.opts.keepInViewport&&(n.t+this.tipOuterH>p.t+p.h?n.t=p.t+p.h-this.tipOuterH:n.t<p.t&&(n.t=p.t));break;default:n.t=o-this.tipOuterH-this.opts.offsetY,n.arrow&&"cursor"!=this.opts.alignTo||(n.arrow="bottom"),this.opts.keepInViewport&&n.t<p.t&&(n.t=r+this.opts.offsetY,"bottom"==n.arrow&&(n.arrow="top"))}this.pos=n}},t.fn.poshytip=function(i){if("string"==typeof i){var s=arguments,e=i;return Array.prototype.shift.call(s),"destroy"==e&&(this.die?this.die("mouseenter.poshytip").die("focus.poshytip"):t(document).undelegate(this.selector,"mouseenter.poshytip").undelegate(this.selector,"focus.poshytip")),this.each(function(){var i=t(this).data("poshytip");i&&i[e]&&i[e].apply(i,s)})}var o=t.extend({},t.fn.poshytip.defaults,i);if(t("#poshytip-css-"+o.className)[0]||t(['<style id="poshytip-css-',o.className,'" type="text/css">',"div.",o.className,"{visibility:hidden;position:absolute;top:0;left:0;}","div.",o.className," table.tip-table, div.",o.className," table.tip-table td{margin:0;font-family:inherit;font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;vertical-align:middle;}","div.",o.className," td.tip-bg-image span{display:block;font:1px/1px sans-serif;height:",o.bgImageFrameSize,"px;width:",o.bgImageFrameSize,"px;overflow:hidden;}","div.",o.className," td.tip-right{background-position:100% 0;}","div.",o.className," td.tip-bottom{background-position:100% 100%;}","div.",o.className," td.tip-left{background-position:0 100%;}","div.",o.className," div.tip-inner{background-position:-",o.bgImageFrameSize,"px -",o.bgImageFrameSize,"px;}","div.",o.className," div.tip-arrow{visibility:hidden;position:absolute;overflow:hidden;font:1px/1px sans-serif;}","</style>"].join("")).appendTo("head"),o.liveEvents&&"none"!=o.showOn){var a,r=t.extend({},o,{liveEvents:!1});switch(o.showOn){case"hover":a=function(){var i=t(this);i.data("poshytip")||i.poshytip(r).poshytip("mouseenter")},this.live?this.live("mouseenter.poshytip",a):t(document).delegate(this.selector,"mouseenter.poshytip",a);break;case"focus":a=function(){var i=t(this);i.data("poshytip")||i.poshytip(r).poshytip("showDelayed")},this.live?this.live("focus.poshytip",a):t(document).delegate(this.selector,"focus.poshytip",a)}return this}return this.each(function(){new t.Poshytip(this,o)})},t.fn.poshytip.defaults={content:"[title]",className:"tip-yellow",bgImageFrameSize:10,showTimeout:500,hideTimeout:100,timeOnScreen:0,showOn:"hover",liveEvents:!1,alignTo:"cursor",alignX:"right",alignY:"top",offsetX:-22,offsetY:18,keepInViewport:!0,allowTipHover:!0,followCursor:!1,fade:!0,slide:!0,slideOffset:8,showAniDuration:300,hideAniDuration:300,refreshAniDuration:200}}(jQuery)}),define("module/memberNav/js/init",[],function(t,i,s){function e(){var t=$("#memberMenuCur");if(t.length){var i=t.val();o.find("li[data-type="+i+"]").addClass("cur")}}var o=$("#member-nav-list");!function(){e()}()});